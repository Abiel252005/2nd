<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feliz Año Nuevo</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="card">
    <div class="imgBox">
      <div class="bark"></div>
      <img src="feliz-año-nuevo-concepto-de-celebración-post-tarjeta-texto-brillante-sobre-fondo-oscuro-el-394276165.webp" alt="Año Nuevo Amor">
    </div>
    <div class="details">
      <h4 class="color2 margin">¡FELIZ AÑO 2026!</h4>
      <p>Mi amor, cerramos un año lleno de recuerdos hermosos y abrimos uno nuevo que me emociona vivir contigo.</p>
      <p>Gracias por ser mi alegría, mi apoyo y mi mejor compañía en cada día de este año que termina.</p>
      <p>Eres lo mejor que me ha pasado y mi único deseo para este nuevo año es que sigamos caminando de la mano.</p>
      <p>Que el 2026 nos traiga más risas, más sueños cumplidos y todo el amor del mundo.</p>
      <p>Te amo hoy, mañana y cada segundo del año que comienza.</p>
      <p>Eres y siempre serás mi persona favorita.</p>
      <p class="text-right">¡Feliz Año Nuevo!</p>
      <p class="text-right">Con todo mi corazón, Abiel ♥</p>
    </div>
  </div>

  <audio id="anniversaryAudio" loop>
    <source src="/congratulations.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
  </audio>

  <script>
    const card = document.querySelector('.card');
    const audio = document.getElementById('anniversaryAudio');
    let isOpen = false;
    let audioPlaying = false;

    function playAudio() {
      if (!audioPlaying) {
        audio.play().then(() => {
          audioPlaying = true;
        }).catch(error => {
          console.log('Autoplay blocked:', error);
        });
      }
    }

    // Soporte para móviles
    if (window.innerWidth <= 550) {
      card.addEventListener('click', () => {
        isOpen = !isOpen;
        const imgBox = card.querySelector('.imgBox');
        const bark = card.querySelector('.bark');
        if (isOpen) {
          imgBox.style.transform = 'rotateY(-90deg)';
          bark.style.opacity = '1';
          bark.style.boxShadow = '350px 200px 80px rgba(0, 0, 0, .3) inset';
          playAudio();
        } else {
          imgBox.style.transform = 'rotateY(0deg)';
          bark.style.opacity = '0';
          bark.style.boxShadow = 'none';
        }
      });
    } else {
      // Soporte para Laptop/PC
      card.addEventListener('mouseover', () => {
        playAudio();
      });
    }
  </script>
</body>
</html>